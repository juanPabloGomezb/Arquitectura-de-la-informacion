<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sofcompus</title>
    <link rel="stylesheet" href="/assets/css/styles.css">
</head>
<body>

<!-- Barra de navegación -->
<header class="navbar">
    <div class="navbar-container">
        <div class="logo">
            <a href="index.html">
            <img src="tu-logo.png" alt="Logo Sofcompus" class="logo-img">
            </a>
        </div>
        <button class="menu-toggle" aria-label="Abrir menú">
            <span class="hamburger"></span>
        </button>
        <nav class="nav-menu">
            <ul>
                <li><a href="#hero">Inicio</a></li>
                <li><a href="#features">Características</a></li>
                <li><a href="#form-section">Contacto</a></li>
                <li><a href="#about">Acerca de</a></li>
                <li><a href="#pricing">Precios</a></li>
                <li><a href="#support">Soporte</a></li>
                <li><a href="#support">Visitantes</a></li>
            </ul>
        </nav>
        <div class="nav-buttons">
            <a href="ingreso.html">
            <button class="cta-btn-nav login-btn" >Iniciar sesión</button>
            </a>
            <a href="ingreso.html">
            <button class="cta-btn-nav register-btn">Registrarse</button>
            </a>
        </div>
    </div>
</header>
<section class="features" id="features">
    <h2>Registro de Visitantes</h2>
    <div class="features-container">
    <form id="form-visitante">
        <label for="nombre">Nombre Completo: </label>
        <input type="text" id="nombre" name="nombre" required><br>

        <label for="documento_identidad">Documento de Identidad:</label>
        <input type="text" id="documento_identidad" name="documento_identidad" required><br>

        <label for="fecha_visita">Fecha de Visita:</label>
        <input type="date" id="fecha_visita" name="fecha_visita" required><br>

        <label for="hora_entrada">Hora de Entrada:</label>
        <input type="time" id="hora_entrada" name="hora_entrada" required><br>

        <label for="vehiculo">Vehículo (si aplica):</label>
        <input type="text" id="vehiculo" name="vehiculo"><br>

        <label for="destino">Destino (casa/depto visitado):</label>
        <input type="text" id="destino" name="destino" required><br>

        <label for="observaciones">Observaciones:</label>
        <textarea id="observaciones" name="observaciones"></textarea><br>

        <button type="submit">Registrar</button>
    </form>

    <script>
        const form = document.getElementById('form-visitante');
        form.addEventListener('submit', async (e) => {
            e.preventDefault();
            const data = {
                nombre: form.nombre.value,
                documento_identidad: form.documento_identidad.value,
                fecha_visita: form.fecha_visita.value,
                hora_entrada: form.hora_entrada.value,
                vehiculo: form.vehiculo.value,
                destino: form.destino.value,
                observaciones: form.observaciones.value
            };

            const response = await fetch('http://localhost:3000/registrar-visitante', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify(data)
            });

            const result = await response.json();
            alert(result.status);
        });
    </script>
 </div>
</section>
    
</body>
</html>